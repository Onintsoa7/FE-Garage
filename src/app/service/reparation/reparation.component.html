<div class="service-c">
  <div class="service-text-container">
    <h2>Passer au garage pour <span>Une réparation</span></h2>
    <form>

      <!-- Dropdown pour choisir la catégorie -->
      <div class="form-group">
        <mat-form-field>
          <mat-label>Catégorie de la pièce :</mat-label>
          <mat-select [(value)]="selectedCategory" (selectionChange)="updateFilteredPieces()">
            <mat-option *ngFor="let category of piecesReparables" [value]="category.category">
              {{ category.category }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Champ d'auto-complétion pour sélectionner les pièces -->
      <div class="form-group">
        <mat-form-field >
          <mat-label>Pièce à réparer :</mat-label>
          <input type="text" class="autocomplete" matInput [formControl]="pieceControl" [matAutocomplete]="auto">
          <mat-autocomplete #auto="matAutocomplete" (optionSelected)="addPiece($event.option.viewValue)">
            <mat-option *ngFor="let piece of filteredOptions | async" [value]="piece">
              {{ piece }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>

      <!-- Liste des pièces sélectionnées -->
      <div class="selected-pieces">
        <mat-chip-list>
          <mat-chip *ngFor="let piece of selectedPieces" (removed)="removePiece(piece)">
            {{ piece }}
            <mat-icon matChipRemove>close</mat-icon>
          </mat-chip>
        </mat-chip-list>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="date">Votre Date *</label>
          <input type="date" id="date">
        </div>

        <div class="form-group">
          <label for="heure">Votre Heure *</label>
          <input type="time" id="heure">
        </div>
      </div>
      <p class="note">*Peut être modifié selon la disponibilité des
        mécaniciens</p>

      <button class="submit-btn">Demander un rendez-vous</button>
    </form>
  </div>
</div>
